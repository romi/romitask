#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import os


from flask import Flask, send_file
from flask import request, send_from_directory
from flask_cors import CORS
from flask_restful import Resource, Api

from romitask.modules import MODULES, TASKS

app = Flask(__name__)
CORS(app)
api = Api(app)

class TaskList(Resource):
    """Class representing a task lis HTTP request, subclass of
    flask_restful's Resource class.
    """
    taskList = []
    def get(self, tasktype):
        for task_key in MODULES.keys():
            if MODULES[task_key].startswith(tasktype):
                self.taskList.append(task_key)
        return self.taskList

#class ConfigList(Resource):
#    """Class representing a config lis HTTP request, subclass of
#    flask_restful's Resource class.
#    """
#    configList = []
#    def get(self, tasktype):
#        if tasktype == "plant3dvision":


api.add_resource(TaskList, '/tasklist/<string:tasktype>')

if __name__ == "__main__":
    app.run(host='0.0.0.0', port=2500)
